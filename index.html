<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>勲章タイプ レーダーチャート</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    body { 
      font-family: system-ui, sans-serif; 
      padding: 20px; 
      background: #000;
      color: #fff;
      font-size: 28px;
      display: flex;
      justify-content: center;
    }

    /* 全体をレーダーグラフと同じ幅に制限 */
    .container {
      max-width: 600px;
      width: 100%;
    }

    h2 { font-size: 34px; }
    p { font-size: 26px; }

    .grid { 
      display: grid; 
      grid-template-columns: auto 80px; 
      gap: 14px 0px;
      margin-bottom: 20px; 
      align-items: center;
    }

    .item { 
      display: flex; 
      align-items: center; 
      gap: 10px;
      font-size: 30px;
    }

    .item img { 
      width: 80px;
      height: 80px;
      object-fit: contain; 
    }

    input { 
      width: 90px; 
      font-size: 30px; 
      padding: 6px;
      border-radius: 6px;
      border: 1px solid #666;
      background: #222;
      color: #fff;
      margin-left: -20px;
    }

    button {
      font-size: 30px;
      padding: 14px 28px;
      border-radius: 8px;
      border: none;
      background: #ff9800;
      color: #000;
      font-weight: bold;
      margin-top: 10px;
      width: 100%;
    }
  </style>
</head>
<body>
<div class="container">

  <h2>勲章タイプ レーダーチャート</h2>
  <p>各勲章は1つにつき1点で計算します（<b>金銀銅の色に限らず1カウント</b>）。</p>

  <div class="grid">

    <div class="item">
      <img src="img1.jpg">
      撃破系
    </div>
    <input type="number" id="v1" value="0" min="0">

    <div class="item">
      <img src="img2.jpg">
      守護系
    </div>
    <input type="number" id="v2" value="0" min="0">

    <div class="item">
      <img src="img3.jpg">
      物資系
    </div>
    <input type="number" id="v3" value="0" min="0">

    <div class="item">
      <img src="img4.jpg">
      制圧系
    </div>
    <input type="number" id="v4" value="0" min="0">

    <div class="item">
      <img src="img5.jpg">
      疾走系
    </div>
    <input type="number" id="v5" value="0" min="0">

    <div class="item">
      <img src="img6.jpg">
      治癒系
    </div>
    <input type="number" id="v6" value="0" min="0">

  </div>

  <button id="updateBtn">グラフ更新</button>

  <div style="margin-top: 24px;">
    <canvas id="radarChart"></canvas>
  </div>

</div>

  <script>
    const labels = ['撃破系', '守護系', '物資系', '制圧系', '疾走系', '治癒系'];

    const ctx = document.getElementById('radarChart').getContext('2d');
    const chart = new Chart(ctx, {
      type: 'radar',
      data: {
        labels: labels,
        datasets: [{
          label: 'タイプスコア',
          data: [0, 0, 0, 0, 0, 0],
          backgroundColor: 'rgba(255, 165, 0, 0.25)',
          borderColor: 'rgba(255, 165, 0, 1)',
          pointBackgroundColor: 'rgba(255, 165, 0, 1)'
        }]
      },
      options: {
        scales: {
          r: {
            beginAtZero: true,
            ticks: { 
              stepSize: 1,
              color: '#fff',
              font: { size: 24 }
            },
            grid: { color: '#555' },
            angleLines: { color: '#555' },
            pointLabels: { 
              color: '#fff',
              font: { size: 30 }
            }
          }
        },
        plugins: {
          legend: {
            labels: { color: '#fff', font: { size: 26 } }
          }
        }
      }
    });

    function updateChart() {
      const values = [];
      for (let i = 1; i <= 6; i++) {
        values.push(Number(document.getElementById('v' + i).value || 0));
      }
      chart.data.datasets[0].data = values;
      chart.update();
    }

    document.getElementById('updateBtn').addEventListener('click', updateChart);
  </script>
</body>
</html>
